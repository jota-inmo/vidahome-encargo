export const logoBase64 = "data:image/png;base64,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";

export const generatePdf = async (formData: FormData, isPreview = false) => {
  const { jsPDF } = jspdf;
  const doc = new jsPDF({ unit: 'pt', format: 'a4' });
  const m = 48; // margin
  const fullW = doc.internal.pageSize.width - m * 2;
  let y = m;
  const pageHeight = doc.internal.pageSize.height;

  const checkPageBreak = (increment = 0) => {
    if (y + increment > pageHeight - m) {
        doc.addPage();
        y = m;
    }
  };

  const drawSectionTitle = (title: string) => {
    checkPageBreak(40);
    doc.setFontSize(13);
    doc.setFont('helvetica', 'bold');
    doc.setTextColor(34,197,94); doc.text('✓', m, y); 
    doc.setTextColor(11,13,14); doc.text(title, m + 14, y);
    y += 22;
    doc.setFont('helvetica', 'normal');
    doc.setFontSize(10);
  };
  
  const drawKeyValue = (key: string, value: string | undefined | null) => {
    if (!value || value === '—') return;
    checkPageBreak(15);
    const lines = doc.splitTextToSize(String(value), fullW - 160); // Adjust width for value
    doc.setFont('helvetica', 'bold');
    doc.text(key, m, y);
    doc.setFont('helvetica', 'normal');
    doc.text(lines, m + 150, y);
    y += lines.length * 12 + 3;
  };
  
  const drawKeyValueRow = (
    key1: string, value1: string | undefined | null,
    key2?: string | null, value2?: string | undefined | null
  ) => {
    const value1Safe = (value1 && value1 !== '—') ? String(value1).trim() : '';
    const value2Safe = (value2 && value2 !== '—') ? String(value2).trim() : '';

    if (!value1Safe && !value2Safe) return;

    checkPageBreak(20);
    
    const keyColWidth = 105;
    const col1X = m;
    const value1X = col1X + keyColWidth;
    const value1Width = (fullW / 2) - keyColWidth - 5;
    
    const lines1 = value1Safe ? doc.splitTextToSize(value1Safe, value1Width) : [''];
    let lines2 = [''];
    
    let rowHeight = lines1.length * 12 + 5;

    if (key2 && value2Safe) {
        const col2X = m + fullW / 2;
        const value2X = col2X + keyColWidth;
        const value2Width = (fullW / 2) - keyColWidth - 5;
        lines2 = doc.splitTextToSize(value2Safe, value2Width);
        rowHeight = Math.max(lines1.length, lines2.length) * 12 + 5;

        doc.setFont('helvetica', 'bold');
        doc.text(key2, col2X, y);
        doc.setFont('helvetica', 'normal');
        doc.text(lines2, value2X, y);
    }
    
    if (value1Safe) {
        doc.setFont('helvetica', 'bold');
        doc.text(key1, col1X, y);
        doc.setFont('helvetica', 'normal');
        doc.text(lines1, value1X, y);
    }
    
    y += rowHeight;
  };
  
  const drawWrappedText = (text: string) => {
    checkPageBreak(15);
    const lines = doc.splitTextToSize(text, fullW);
    doc.setFont('helvetica', 'normal');
    doc.setFontSize(9);
    doc.text(lines, m, y, { lineHeightFactor: 1.4 });
    y += lines.length * 9 * 1.4 + 5;
  };
  
  const drawListText = (items: string[]) => {
      items.forEach(item => {
        checkPageBreak(15);
        const lines = doc.splitTextToSize(item, fullW - 15);
        doc.setFont('helvetica', 'normal');
        doc.setFontSize(9);
        doc.text("•", m, y);
        doc.text(lines, m + 15, y, { lineHeightFactor: 1.4 });
        y += lines.length * 9 * 1.4 + 5;
      });
  }

  // --- Header ---
  const pw = doc.internal.pageSize.getWidth();
  const refTxt = 'REF: ' + (formData.ref || 'REF');
  doc.setFont('helvetica','bold'); doc.setFontSize(18);
  const refW = doc.getTextWidth(refTxt);
  doc.text(refTxt, pw - m - refW, m + 18);
  
  try {
    doc.addImage(logoBase64, 'PNG', m, m, 140, 48);
  } catch (e) {
    doc.setFont('helvetica','bold').setFontSize(12).text("Vida Home", m, y);
    console.error("No se pudo cargar el logo:", e);
  }
  
  doc.setFont('helvetica','bold'); doc.setFontSize(16);
  let title = 'Encargo de gestión de venta SIN EXCLUSIVA';
  const cat = (formData.categoria || 'normal');
  if (cat === 'A') title = 'Encargo de gestión de alquiler SIN EXCLUSIVA';
  doc.text(title, m, m + 78);
  doc.setFont('helvetica','normal'); doc.setFontSize(10);
  doc.text('Vida Home Gandia S.L. - CIF B75472027 - C/ Joan XXIII nº1 - 46730 Grau de Gandía - 960 519 214', m, m + 96);
  doc.setLineWidth(0.5).line(m, m + 106, pw - m, m + 106);
  y = m + 126;


  // --- 1) Datos de gestión ---
  drawSectionTitle('1) Datos de gestión');
  const getAgent = () => formData.agente === 'Otro (especificar)' ? formData.agente_otro : formData.agente;
  const agentName = getAgent();
  
  drawKeyValueRow(
    'Referencia:', formData.ref,
    'Fecha:', new Date(formData.fecha).toLocaleDateString('es-ES')
  );
  drawKeyValueRow(
    'Agente:', agentName,
    'Modalidad:', formData.categoria === 'A' ? 'Alquiler (A)' : 'Venta'
  );

  y += 15;

  // --- 2) Propietarios ---
  drawSectionTitle('2) Propietarios');
  const ownerCount = formData.owners.length;
  const ownerBoxWidth = (fullW / 2) - 10;

  for (let i = 0; i < ownerCount; i += 2) {
      const owner1 = formData.owners[i];
      const owner2 = i + 1 < ownerCount ? formData.owners[i + 1] : null;

      checkPageBreak(80);

      let y1 = y;
      let y2 = y;
      const col1X = m;
      const col2X = m + ownerBoxWidth + 20;

      const drawOwnerDetails = (owner: Owner, startX: number, startY: number, index: number) => {
          let currentY = startY;
          doc.setFont('helvetica', 'bold');
          doc.text(`Propietario ${index + 1}:`, startX, currentY); currentY += 18;
          doc.setFont('helvetica', 'normal');

          const keyWidth = 60;
          const valueWidth = ownerBoxWidth - keyWidth;

          const drawKV = (key: string, value: string | undefined | null) => {
              if (!value || value === '—') return;
              const lines = doc.splitTextToSize(String(value), valueWidth);
              checkPageBreak(lines.length * 12 + 3);

              doc.setFont('helvetica', 'bold');
              doc.text(key, startX, currentY);
              doc.setFont('helvetica', 'normal');
              doc.text(lines, startX + keyWidth, currentY);
              currentY += lines.length * 12 + 3;
          };
          
          drawKV('Nombre:', owner.nombre);
          drawKV('Teléfono:', owner.telefono);
          drawKV('DNI/NIE:', owner.dni);
          if (owner.email) drawKV('Email:', owner.email);
          return currentY;
      };
      
      y1 = drawOwnerDetails(owner1, col1X, y1, i);

      if (owner2) {
          y2 = drawOwnerDetails(owner2, col2X, y2, i + 1);
      }

      y = Math.max(y1, y2) + 10;
  }

  y += 15;

  // --- 3) Inmueble ---
  drawSectionTitle('3) Inmueble');
  const blockStartY = y;
  let textBlockY = y;
  let qrCodeEndY = blockStartY;
  const qrSize = 80;
  let qrGenerated = false;

  if (formData.ubic_link) {
      const qrEl = document.getElementById('qr_hidden');
      if (qrEl) {
          qrEl.innerHTML = '';
          try {
              new QRCode(qrEl, { text: formData.ubic_link, width: qrSize, height: qrSize, correctLevel: QRCode.CorrectLevel.M });
              const qrCanvas = qrEl.querySelector('canvas');
              if (qrCanvas) {
                  const qrImg = qrCanvas.toDataURL('image/png');
                  const qrX = doc.internal.pageSize.width - m - qrSize;
                  doc.addImage(qrImg, 'PNG', qrX, blockStartY, qrSize, qrSize);
                  qrCodeEndY = blockStartY + qrSize + 5;
                  qrGenerated = true;
              }
          } catch (e) {
              console.error("Error generating QR Code", e);
          }
      }
  }

  const labelX = m;
  const valueX = m + 90;
  const valueWidth = fullW - (valueX - m) - (qrGenerated ? qrSize + 10 : 0);
  doc.setFontSize(10);
  
  const drawKeyAndMultiLineValue = (key: string, value: string | undefined | null) => {
      if (!value) return;
      const lines = doc.splitTextToSize(String(value), valueWidth);
      checkPageBreak(lines.length * 12 + 8);
      doc.setFont('helvetica', 'bold');
      doc.text(key, labelX, textBlockY);
      doc.setFont('helvetica', 'normal');
      doc.text(lines, valueX, textBlockY);
      textBlockY += lines.length * 12 + 8;
  };
  
  drawKeyAndMultiLineValue('Tipo:', formData.tipo_vivienda);
  drawKeyAndMultiLineValue('Dirección:', formData.dir);
  drawKeyAndMultiLineValue('Ref. Catastral:', formData.refcat || '---');
  
  y = Math.max(textBlockY, qrCodeEndY);

  const residentialTypes = ['Piso', 'Ático', 'Dúplex', 'Bajo', 'Casa/Chalet', 'Adosado', 'Unifamiliar'];
  const landTypes = ['Terreno urbano', 'Terreno rústico'];
  const localTypes = ['Local','Garaje','Trastero'];

  if (residentialTypes.includes(formData.tipo_vivienda)) {
      y+=5;
      doc.setFontSize(10);
      
      const details = [
          { key: 'Habitaciones:', value: formData.num_habitaciones },
          { key: 'Baños:', value: formData.num_banos },
          { key: 'Cocinas:', value: formData.num_cocinas },
          { key: 'Ascensor:', value: formData.res_asc },
          { key: 'Exterior/Interior:', value: formData.res_ext },
          { key: 'Orientación:', value: formData.res_ori },
          { key: 'Garaje:', value: formData.res_gar },
          { key: 'Trastero:', value: formData.res_tras },
          { key: 'Terraza 1 (m²):', value: formData.res_t1 },
          { key: 'Terraza 2 (m²):', value: formData.res_t2 },
          { key: 'Terraza 3 (m²):', value: formData.res_t3 },
          { key: 'Patio (m²):', value: formData.res_patio },
          { key: 'Parcela (m²):', value: formData.res_parcela },
      ].filter(d => d.value && d.value !== '—' && String(d.value).trim() !== '');

      for (let i = 0; i < details.length; i += 2) {
          const item1 = details[i];
          const item2 = details[i + 1];
          if (item2) {
              drawKeyValueRow(item1.key, item1.value, item2.key, item2.value);
          } else {
              drawKeyValueRow(item1.key, item1.value);
          }
      }
  } else if (landTypes.includes(formData.tipo_vivienda)) {
      y+=5;
      drawKeyValue('Clasificación:', formData.ter_clas);
      drawKeyValue('Superficie (m²):', formData.ter_m2);
      drawKeyValue('Edificabilidad (%):', formData.ter_edi);
  } else if (localTypes.includes(formData.tipo_vivienda)) {
      y+=5;
      if (formData.tipo_vivienda === 'Local') {
        drawKeyValue('Sup. Útil (m²):', formData.loc_m2_util);
        drawKeyValue('Sup. Const. (m²):', formData.loc_m2_const);
        drawKeyValue('Nº Baños:', formData.loc_banos);
        drawKeyValue('Fachada (m):', formData.loc_fach);
        drawKeyValue('Altura (m):', formData.loc_alt);
        drawKeyValue('Plantas:', formData.loc_plantas);
        drawKeyValue('Escaparates:', formData.loc_escaparates);
        drawKeyValue('Hace Esquina:', formData.loc_esquina);
        drawKeyValue('Oficina:', formData.loc_oficina);
        drawKeyValue('Salida Humos:', formData.loc_humo);
        if(formData.loc_extras.length > 0) drawKeyValue('Extras:', formData.loc_extras.join(', '));
      } else if (formData.tipo_vivienda === 'Garaje') {
        drawKeyValue('Capacidad:', formData.gar_capacidad);
        drawKeyValue('Superficie (m²):', formData.gar_m2);
        if(formData.gar_extras.length > 0) drawKeyValue('Extras:', formData.gar_extras.join(', '));
      } else if (formData.tipo_vivienda === 'Trastero') {
        drawKeyValue('Sup. Útil (m²):', formData.tras_m2_util);
        drawKeyValue('Sup. Const. (m²):', formData.tras_m2_const);
        if(formData.tras_extras.length > 0) drawKeyValue('Extras:', formData.tras_extras.join(', '));
      }
  }

  y += 15;

  // --- 4) Gastos, Ocupación y Llaves ---
  drawSectionTitle('4) Gastos, ocupación y llaves');
  drawKeyValue('Comunidad (€/mes):', formData.com_mes);
  drawKeyValue('Derramas:', formData.com_der);
  if(formData.com_obs) drawKeyValue('Obs. Derramas:', formData.com_obs);
  drawKeyValue('IBI (€/anual):', formData.ibi_anual);
  drawKeyValue('Tasa Basuras (€):', formData.basura);
  drawKeyValue('Agua:', formData.agua_act);
  drawKeyValue('Luz:', formData.luz_act);
  y += 10;
  drawKeyValue('Ocupación:', formData.ocup);
  if(formData.ocupantes) drawKeyValue('Ocupantes:', formData.ocupantes);
  drawKeyValue('Disponemos de llaves:', formData.llaves);
  if(formData.llaves === 'Sí') {
    if(formData.llaves_contacto) drawKeyValue('Contacto llaves:', formData.llaves_contacto);
    if(formData.llaves_tel) drawKeyValue('Teléfono llaves:', formData.llaves_tel);
    if(formData.llaves_instr) drawKeyValue('Instrucciones:', formData.llaves_instr);
  }

  y += 15;

  // --- 5) Condiciones ---
  drawSectionTitle('5) Condiciones económicas y cláusulas');
  const precioLabel = formData.categoria === 'A' ? 'Alquiler mensual' : 'Precio estipulado';
  drawKeyValue(`${precioLabel}:`, `${formData.precio} €`);
  
  let honorariosDescription = '';
  if (formData.categoria === 'A') {
      honorariosDescription = 'Importe equivalente a una mensualidad + IVA.';
  } else {
      const precioNum = parseFloat(formData.precio);
      honorariosDescription = !isNaN(precioNum) && precioNum < 100000
          ? '4000€ + IVA, sin incluir impuestos/gastos del comprador (ITP, etc.).'
          : '4% + IVA sobre el precio real de venta que percibe el propietario, sin incluir impuestos/gastos del comprador (ITP, etc.).';
  }
  drawWrappedText(`Honorarios: ${honorariosDescription}`);
  
  const getDynamicClauses = (data: FormData): string[] => {
    const common = [
      "Encargo sin exclusiva: la Propiedad puede gestionar por su cuenta o con terceros la venta o alquiler, siempre que los interesados no hayan sido previamente presentados o identificados por Vida Home (por escrito). Ver cláusulas 5 y 6.",
      "Oferta en firme + depósito en agencia: toda oferta será por escrito y deberá ir acompañada de un depósito en la agencia Vida Home (efectivo o transferencia), siempre con justificante.",
      "Aceptación y arras: una vez aceptada por escrito la oferta por la Propiedad, Vida Home elaborará un borrador de contrato de arras, lo ajustará con las partes hasta su conformidad por escrito y coordinará firma e ingreso de las arras.",
      "Arras – destino del ingreso: las arras de la parte compradora se ingresarán en la cuenta del propietario si tiene cuenta en España; si no, se ingresarán en la cuenta de Vida Home para custodia temporal y posterior transferencia o aplicación según contrato de arras.",
    ];
    let specific = '';
    if (data.categoria === 'A') {
        specific = "Devengo honorarios (alquiler): si Vida Home presenta por escrito un arrendatario que acepta renta/plazo ofrecidos y la Propiedad decide no arrendar en tales términos, se devengan los honorarios pactados. Si se arrienda a ese interesado (o interposta) dentro de 24 meses, se devengan.";
    } else {
        const honorarios = !isNaN(parseFloat(data.precio)) && parseFloat(data.precio) < 100000 ? '4000€ + IVA' : '4% + IVA';
        specific = `Devengo honorarios (venta): si Vida Home comunica por escrito un comprador identificado que acepta el precio y la Propiedad decide no transmitir por ese importe, abonará los honorarios pactados (${honorarios}).`;
    }
    const final = [
        "Duración y rescisión: 6 meses iniciales + renovaciones tácitas de 6 meses. Resolución en cualquier momento, sin indemnización, si no existe un proceso de intermediación abierto con interesado presentado por Vida Home (oferta en firme/arras/contrato en preparación).",
        "Obligaciones de la Propiedad: confirmar titularidad y datos, colaborar en visitas y gestiones, aportar la documentación necesaria y nota simple reciente (venta y alquiler). En alquiler, además, CEE antes de firmar."
    ];
    return [...common, specific, ...final];
  }
  y += 5;
  getDynamicClauses(formData).forEach(clause => drawListText([clause]));

  y += 15;

  // --- 6) Observaciones ---
  drawSectionTitle('6) Observaciones y extras');
  if(formData.vistas.length) drawKeyValue('Vistas:', formData.vistas.join(', '));
  if(formData.servicios.length) drawKeyValue('Zonas/servicios:', formData.servicios.join(', '));
  if(formData.obs_otro) {
    y += 5;
    drawWrappedText(`Otros: ${formData.obs_otro}`);
  }

  // --- 7) Firmas ---
  doc.addPage();
  y = m;
  drawSectionTitle('7) Firmas');
  y += 10;
  
  const sigBoxWidth = (fullW - 20) / 2;
  const sigBoxHeight = 80;
  const sigYSpacing = sigBoxHeight + 35;
  let currentY = y;
  
  // Agent Signature
  let currentX = m;
  doc.rect(currentX, currentY, sigBoxWidth, sigBoxHeight);
  doc.setFontSize(10).setFont('helvetica', 'normal');
  doc.text(agentName, currentX + 10, currentY + sigBoxHeight + 15);
  doc.setFontSize(8).text('Intermediario (Vida Home Gandia)', currentX + 10, currentY + sigBoxHeight + 25);
  
  // Owner Signatures
  formData.owners.forEach((owner, i) => {
    const position = i + 1; // Agent is position 0
    const row = Math.floor(position / 2);
    const col = position % 2;
    
    currentX = m + col * (sigBoxWidth + 20);
    currentY = y + row * sigYSpacing;

    checkPageBreak(sigYSpacing + m);
    // If a page break happened, reset currentY for the new page
    if (doc.internal.pages.length > 2 && currentY < m) {
        currentY = m;
    }

    doc.rect(currentX, currentY, sigBoxWidth, sigBoxHeight);
    doc.setFontSize(10).setFont('helvetica', 'normal');
    doc.text(
        `${owner.nombre || `Propietario ${i + 1}`} (DNI: ${owner.dni || '---'})`,
        currentX + 10,
        currentY + sigBoxHeight + 15
    );
  });


  // --- 8) Acta de devolución de llaves ---
  doc.addPage();
  y = m;
  drawSectionTitle('8) Acta de devolución de llaves (recibí)');
  doc.setFontSize(10);
  const lines = [
    'Fecha y hora: ____/____/________  ____:____ h',
    'Receptor (propietario/representante): ______________________________  DNI/NIE ________________',
    'Dirección: ' + (formData.dir||'-') + '  -  Ref.: ' + (formData.ref||'-'),
    'Detalle (nº, tipo, accesorios): ________________________________',
    'Motivo: [ ] Fin del encargo   [ ] Venta/arr. por su cuenta   [ ] Retirada temporal   [ ] Otros: _____________'
  ];
  y += 10;
  lines.forEach(line => { doc.text(line, m, y); y += 22; });
  y += 10;
  const note = 'Con la presente, la persona receptora declara haber recibido las llaves en el número y estado indicados, dejando sin efecto cualquier autorización de acceso previamente otorgada a Vida Home, y asumiendo desde este acto la custodia y responsabilidad de las mismas.';
  drawWrappedText(note);
  y += 30;
  doc.text('Firma de quien recibe: _________________________        Firma y sello Vida Home: _________________________', m, y);

  // --- Footer ---
  const addFooter = () => {
      const pageCount = doc.internal.getNumberOfPages();
      for (let i = 1; i <= pageCount; i++) {
          doc.setPage(i);
          doc.setFont('helvetica', 'normal');
          doc.setFontSize(8);
          const footerText = `Vida Home Gandia S.L. - CIF B75472027 - Ref ${formData.ref || 'REF'} - Página ${i}/${pageCount}`;
          const textWidth = doc.getTextWidth(footerText);
          doc.text(footerText, (doc.internal.pageSize.width - textWidth) / 2, doc.internal.pageSize.height - 20);
      }
  };

  addFooter();
  
  if (isPreview) {
    doc.output('dataurlnewwindow', {filename: `encargo_preview_${formData.ref || 'sin-ref'}.pdf`});
  } else {
    doc.save(`Encargo_VidaHome_v39c_${(formData.owners[0]?.nombre || 'encargo').replace(/\s+/g,'_')}.pdf`);
  }
};
